# MCP Inspector v1.5 Branch

## Key Differences

`npm run build` - builds everything (as before)
`npm run test:unit` - runs all tests (all tests now use vitest)

`MCP_INSPECTOR_API_TOKEN` is now required to render the main ux (the config API endpoint is protected, as are all others)

- Unless `DANGEROUSLY_OMIT_AUTH` is set, if you don't have an `MCP_INSPECTOR_API_TOKEN` as a URL param, you will be prompted to enter it before we render the main ux
- When `MCP_INSPECTOR_API_TOKEN` is a URL param, we parse it and reset the URL so you have a clean URL (you can still see the token in the config panel)

There are new top-level npm targets that launch the web app via the CLI (to support the `--config` and `--server` params):

- `npm run web` - runs CLI with `--web`
- `npm run web:dev` - runs CLI with `--web --dev`

The CLI launcher has been modified so that if `server` is specified without `config` and an mcp.json exists in the CWD, that will be used by default

This means: If you have an mpc.json in the root you can do:

- `npm run web -- --server everything` - run the everything server from the mcp.json in the root

There are some test mcp.json files in /test

- `mcp.json` - Sample test servers
- `mcpapps.json` - All MCP Apps test servers

You can use them (or any mcp.json file) like this:

- `npm run web -- --config test/mcpapps.json --server basic-solid`

Note: In both cases above, you could also have used `web:dev` instead `web`

You can run `dev` and `start` targets as before

- `npm start -- <web app params>`

There are also a couple of new env vars:

| This repo                 | Description                              | Backward compat                                                         |
| ------------------------- | ---------------------------------------- | ----------------------------------------------------------------------- |
| `MCP_INSPECTOR_API_TOKEN` | API/auth token for the Inspector server. | Also accepts `MCP_PROXY_AUTH_TOKEN`. Uses random value if not provided. |
| `MCP_SANDBOX_PORT`        | App sandbox server port.                 | Also accepts `SERVER_PORT`. Uses dynamic port if not provided.          |
